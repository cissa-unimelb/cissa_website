<!DOCTYPE html>
<html lang="en">
  <head>
    <title>CISSA | Contact</title>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <meta
      name="description"
      content="Computing and Information Systems Students Association | University of Melbourne | Get in Touch With Us!"
    />
    <meta property="og:title" content="CISSA" />
    <meta
      property="og:description"
      content="Get in Touch"
    />
    <meta property="og:image" content="/og-image.jpg" />
    <meta property="og:image:width" content="1200" />
    <meta property="og:image:height" content="630" />
    <meta property="og:url" content="https://cissa.org.au/contact.html" />
    <meta name="twitter:card" content="summary_large_image" />
    <meta name="twitter:title" content="CISSA" />
    <meta
      name="twitter:description"
      content="Stay up to date with UniMelbâ€™s Premier Tech Club"
    />
    <meta
      name="twitter:image"
      content="https://cissa.org.au/twitter-card.png"
    />

    <link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png" />
    <link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png" />
    <link
      rel="icon"
      type="image/png"
      sizes="192x192"
      href="/android-chrome-192x192.png"
    />
    <link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png" />
    <link rel="manifest" href="/site.webmanifest" />
    <link rel="mask-icon" href="/safari-pinned-tab.svg" color="#33d4c8" />
    <meta name="apple-mobile-web-app-title" content="CISSA" />
    <meta name="application-name" content="CISSA" />
    <meta name="msapplication-TileColor" content="#2b5797" />
    <meta name="msapplication-TileImage" content="/mstile-144x144.png" />
    <meta name="theme-color" content="#000a25" />
    <link
      rel="stylesheet"
      href="https://cdn.jsdelivr.net/npm/bootstrap@4.1.3/dist/css/bootstrap.min.css"
      integrity="sha384-MCw98/SFnGE8fJT3GXwEOngsV7Zt27NXFoaoApmYm81iuXoPkFOJwJ8ERdknLPMO"
      crossorigin="anonymous"
    />
    <link
      rel="stylesheet"
      href="https://use.fontawesome.com/releases/v5.4.1/css/all.css"
      integrity="sha384-5sAR7xN1Nv6T6+dT2mhtzEpVJvfS3NScPQTrOxhwjIuvcA67KV2R5Jz6kr4abQsz"
      crossorigin="anonymous"
    />
    <link
      rel="stylesheet"
      href="https://cdn.jsdelivr.net/npm/shards-ui@2.1.0/dist/css/shards.min.css"
      integrity="sha256-eQoOeIG21g39EkgM218wqO3pF/maNq222vMz7Yxowv4="
      crossorigin="anonymous"
    />
    <link
      rel="stylesheet"
      href="https://cdn.jsdelivr.net/npm/shards-ui@2.1.0/dist/css/shards-extras.min.css"
      integrity="sha256-8EIZIimb8h9VjDK6M/cgkJkW3aERTk6BFBTECXWMsI0="
      crossorigin="anonymous"
    />
    <link rel="stylesheet" href="assets/css/main.css" />
    <script src="https://unpkg.com/axios/dist/axios.min.js"></script>
    <script src="https://www.google.com/recaptcha/api.js" async defer></script>
  </head>


  <body class="shards-landing-page--1">
    <div id="head" class=" d-flex justify-content-center flex-column">
      <nav class="navbar navbar-expand-lg fixed-top navbar-dark pt-4 px-5">
        <a class="navbar-brand" href="index.html"
          ><img
            src="assets/images/cissa_white.svg"
            width="100px"
            class="mb-2"
            alt="CISSA"
          />
        </a>
        <button
          class="navbar-toggler"
          type="button"
          data-toggle="collapse"
          data-target="#navbarNavDropdown"
          aria-controls="navbarNavDropdown"
          aria-expanded="false"
          aria-label="Toggle navigation"
        >
          <span class="navbar-toggler-icon"></span>
        </button>
        <div class="collapse navbar-collapse mb-2" id="navbarNavDropdown">
          <ul class="navbar-nav ml-auto">
            <li class="nav-item dropdown">
              <a class="nav-link dropdown-toggle" href="#" id="navbarDropdown" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                Events
              </a>
              <div class="dropdown-menu" aria-labelledby="navbarDropdown">
                <a class="dropdown-item" href="events.html">Upcoming Events</a>
                <a class="dropdown-item" href="gallery.html">Gallery</a>
              </div>
            </li>
            <li class="nav-item">
              <a class="nav-link" href="about.html">Committee</a>
            </li>
            <li class="nav-item">
              <a class="nav-link" href="sponsors.html">Sponsors</a>
            </li>
            <li class="nav-item">
              <a class="nav-link" href="https://medium.com/cissa-unimelb">Blog</a>
            </li>
            <li class="nav-item">
              <a class="nav-link" href="contact.html">Contact</a>
            </li>
            <li class="nav-item">
              <a class="nav-link signup" href="https://cissa.org.au/signup">Join Us</a>
            </li>
          </ul>
        </div>
      </nav>

      <header>
        <h1 class="section-title text-center">CONTACT US</h1>
      </header>
    </div>

    <div class="mt-5 text-center important-text">
        Do you have any general inquiries or want to suggest awesome ideas?
        Email us at <a href="mailto:executives@cissa.org.au">executives@cissa.org.au</a>
        or fill out this form.<br/><br/>
        Feel free to have chat with us on <a href="https://discord.gg/JZXcbQf5">Discord</a> as well!
    </div>
    <div class="pt-3 pb-0 text-center" id="result"></div>

    <div class="pb-5 pt-3">
      <form class="contact_form text-center" method="post" action>
        <input type="text" name="name" class="inputs my-3 col-md-6" placeholder="Name*" onchange="updatedata()" required >
        <input type="email" class="inputs my-3 col-md-6" name="email" placeholder="Email*" onchange="updatedata()" required >
        <input type="text" class="inputs my-3 col-md-6" name="subject" placeholder="Subject*" onchange="updatedata()" required >
        <textarea name="message" class="inputs my-3 col-md-6" placeholder="Message*" rows="10" onchange="updatedata()" cols="30"
        required></textarea>
        <div class="text-center">
        <div class="g-recaptcha" data-callback="recaptcha_callback" data-expired-callback="expired_callback" data-sitekey="6Lfrpt8UAAAAAFm2h3KobB_-uAsdejfRYlejODrl"></div>
        </div>
        <input type="submit" id="submit_button" class="my-3 text-center sign-up-btn btn btn-dark btn-squared" name="submit" value="Send Message" disabled>
      </form>
    </div>

    <div class="row dark text-center d-flex justify-content-center footer pt-5 pb-3">
      <div class="footer-img col-md">
        <a class="fab fa-medium-m social" href="https://medium.com/cissa-unimelb">
        </a>
        <a class="fab fa-facebook-f social" href="https://www.facebook.com/cissa.unimelb/">
        </a>
        <a class="fab fa-instagram social" href="https://instagram.com/cissa_unimelb/">
        </a>
        <a class="fab fa-twitter social" href="https://twitter.com/cissa_unimelb/">
        </a>
        <a class="fab fa-discord social" href="https://discord.gg/JZXcbQf5">
        </a>
      </div>
      <p class="col-md-12 mt-5">Copyright &copy; 2021 CISSA<p>
    </div>


    <script>
      var formData = {
        'name':'',
        'email':'',
        'subject':'',
        'message':'',
        'g-recaptcha-response':'',
        'recipient': 'executives@cissa.org.au'
      }
      var result = document.getElementById('result');
      var submit = document.getElementById("submit_button");

      function isValidEmail(email) {
        const re = /^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/;
        return re.test(String(email).toLowerCase());
      }
      const handleSubmit = async e => {
        submit.disabled = true;
        e.preventDefault();
        if (formData['name']==='' ||formData['email']==='' ||formData['subject']==='' ||formData['message']===''){
          result.innerHTML = '<font color="red">Please enter all fields</font>';
          window.scrollTo(0, 0);
        }
        else if(!isValidEmail(formData['email'])) {
          result.innerHTML = '<font color="red">Email is invalid</font>';
          window.scrollTo(0, 0);
        }
        else{
          await axios.post(
            'https://api.cissa.org.au/contact', formData)
            .then(
              (response) => {
                submit.disabled = false;
                if(response.data.accepted != null && response.data.accepted[0] == formData.recipient) {
                  result.innerHTML = '<font color="green">Message Sent. We will be in touch soon!</font>';
                  window.scrollTo(0, 0);
                }
                else{
                  console.log(response);
                  result.innerHTML = '<font color="red">Message unable to be sent! Please try again.</font>';
                  window.scrollTo(0, 0);
                }
              },
              (error) => {
                submit.disabled = false;
                console.log(error);
                result.innerHTML = '<font color="red">An error occurred, please try again!</font>';
                window.scrollTo(0, 0);
              }
            );
        }
      }

      function recaptcha_callback(){
        formData['g-recaptcha-response'] = grecaptcha.getResponse();
        submit.disabled = false;
      }

      function expired_callback(){
        submit.disabled = true;
      }

      const updatedata = () => {
        if (event.target.name === 'name'){
          formData['name'] = event.target.value;
        }
        else if (event.target.name === 'email'){
          formData['email'] = event.target.value;
        }
        else if (event.target.name === 'subject'){
          formData['subject'] = event.target.value;
        }
        else if (event.target.name === 'message'){
          formData['message'] = event.target.value;
        }
      }

      submit.addEventListener('click', handleSubmit);
    </script>

    <script
      src="https://cdn.jsdelivr.net/npm/jquery@3.3.1/dist/jquery.slim.min.js"
      integrity="sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo"
      crossorigin="anonymous"
    ></script>
    <script
      src="https://cdn.jsdelivr.net/npm/popper.js@1.14.4/dist/umd/popper.min.js"
      integrity="sha256-EGs9T1xMHdvM1geM8jPpoo8EZ1V1VRsmcJz8OByENLA="
      crossorigin="anonymous"
    ></script>
    <script
      src="https://cdn.jsdelivr.net/npm/bootstrap@4.1.3/dist/js/bootstrap.min.js"
      integrity="sha384-ChfqqxuZUCnJSK3+MXmPNIyE6ZbWh2IMqE241rYiqJxyMiZ6OW/JmZQ5stwEULTy"
      crossorigin="anonymous"
    ></script>
    <script
      src="https://cdn.jsdelivr.net/npm/shards-ui@2.1.0/dist/js/shards.min.js"
      integrity="sha256-PCFtnjaRohL1L6wEpWGaVacPmSQOoqYC4YDDRKC6RUc="
      crossorigin="anonymous"
    ></script>
  </body>

</html>